# –†–µ–≤—å—é –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∫–µ–Ω–¥–∞

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–í—Å–µ–≥–æ logger –≤—ã–∑–æ–≤–æ–≤**: ~1813
- **logger.info**: ~656
- **logger.debug**: ~142
- **logger.warn**: ~? (–Ω—É–∂–Ω–æ –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å)
- **logger.error**: ~? (–Ω—É–∂–Ω–æ –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å)
- **–§–∞–π–ª–æ–≤ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º**: 61

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –ª–æ–≥–∏ (–û–°–¢–ê–í–ò–¢–¨)

### –û—à–∏–±–∫–∏ (logger.error)
- ‚úÖ –í—Å–µ –æ—à–∏–±–∫–∏ API –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –û—à–∏–±–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ webhooks
- ‚úÖ –û—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –í–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (logger.warn/info - —Ç–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã–µ)
- ‚úÖ –£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ Stripe —Å–µ—Å—Å–∏–∏ (—Ç–æ–ª—å–∫–æ session ID –∏ amount)
- ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π SendPulse
- ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∏–∑–Ω–µ—Å-—Å–æ–±—ã—Ç–∏—è (–ø–ª–∞—Ç–µ–∂ –æ–ø–ª–∞—á–µ–Ω, —Å–¥–µ–ª–∫–∞ –ø–µ—Ä–µ—à–ª–∞ –≤ —Å—Ç–∞–¥–∏—é)
- ‚úÖ –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (warn)
- ‚úÖ –ó–∞–ø—É—Å–∫ cron –∑–∞–¥–∞—á

## –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–£–î–ê–õ–ò–¢–¨ –∏–ª–∏ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ debug)

### 1. Pipedrive API Request/Response (–ö–†–ò–¢–ò–ß–ù–û - –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –ª–æ–≥–æ–≤)
**–§–∞–π–ª**: `src/services/pipedrive.js`
- ‚ùå –ö–∞–∂–¥—ã–π API –∑–∞–ø—Ä–æ—Å –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ `info`
- ‚ùå –ö–∞–∂–¥—ã–π API –æ—Ç–≤–µ—Ç –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ `info`
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ `debug` –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —É—Å–ª–æ–≤–∏–µ `if (process.env.DEBUG_PIPEDRIVE_API)`

### 2. wFirma API Request/Response
**–§–∞–π–ª**: `src/services/wfirma.js`
- ‚ùå –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ Pipedrive - –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å/–æ—Ç–≤–µ—Ç –Ω–∞ `info`
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ `debug`

### 3. SendPulse API Request/Response
**–§–∞–π–ª**: `src/services/sendpulse.js`
- ‚ùå –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ `debug`

### 4. –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ webhook –æ–±—Ä–∞–±–æ—Ç–∫–µ
**–§–∞–π–ª**: `src/routes/pipedriveWebhook.js`
- ‚ùå `logger.info("üîç –ù–∞—á–∞–ª–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ webhook")` - —Å–ª–∏—à–∫–æ–º –¥–µ—Ç–∞–ª—å–Ω–æ
- ‚ùå `logger.info("üîç Deal ID –æ–ø—Ä–µ–¥–µ–ª–µ–Ω")` - –∏–∑–±—ã—Ç–æ—á–Ω–æ
- ‚ùå `logger.info("üîç –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ invoice_type")` - –∏–∑–±—ã—Ç–æ—á–Ω–æ
- ‚ùå `logger.info("üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ invoice_type")` - –∏–∑–±—ã—Ç–æ—á–Ω–æ
- ‚ùå `logger.info("üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö Stripe —Å–µ—Å—Å–∏–π")` - –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ debug
- **–†–µ—à–µ–Ω–∏–µ**: –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∏—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –¥–µ—Ç–∞–ª–∏ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ debug

### 5. Stripe Processor - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
**–§–∞–π–ª**: `src/services/stripe/processor.js`
- ‚ùå `logger.info("üí∞ –†–∞—Å—á–µ—Ç —Ü–µ–Ω—ã –ø—Ä–æ–¥—É–∫—Ç–∞")` - –∏–∑–±—ã—Ç–æ—á–Ω–æ
- ‚ùå `logger.info("üí∞ –ò—Ç–æ–≥–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç —Å—É–º–º—ã —Å —É—á–µ—Ç–æ–º —Å–∫–∏–¥–∫–∏")` - –∏–∑–±—ã—Ç–æ—á–Ω–æ (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö)
- ‚ùå `logger.info("üìß –î–∞–Ω–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω—ã –ø–æ–ª—É—á–µ–Ω—ã")` - –∏–∑–±—ã—Ç–æ—á–Ω–æ
- ‚ùå `logger.info("üí≥ [Deal #${dealId}] API Call #${apiCallCount}")` - –∏–∑–±—ã—Ç–æ—á–Ω–æ (—Ç–æ–ª—å–∫–æ –∏—Ç–æ–≥)
- ‚ùå –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –ª–æ–≥–æ–≤ –ø—Ä–æ –∫–∞–∂–¥—ã–π —à–∞–≥ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏
- **–†–µ—à–µ–Ω–∏–µ**: –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∏—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (—É—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏)

### 6. Invoice Processing - –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ —à–∞–≥–∏
**–§–∞–π–ª**: `src/services/invoiceProcessing.js`
- ‚ùå `logger.info("üìã Step 1: Processing deletion requests")` - –∏–∑–±—ã—Ç–æ—á–Ω–æ
- ‚ùå `logger.info("üìã Step 2: Fetching pending deals")` - –∏–∑–±—ã—Ç–æ—á–Ω–æ
- ‚ùå `logger.info("üìã Step 3: Processing deals")` - –∏–∑–±—ã—Ç–æ—á–Ω–æ
- ‚ùå `logger.info("üîç –ü–æ–∏—Å–∫ –ø—Ä–æ—Ñ–æ—Ä–º")` - –º–Ω–æ–≥–æ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –ª–æ–≥–æ–≤
- **–†–µ—à–µ–Ω–∏–µ**: –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∏—Ç–æ–≥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (—Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ, –æ—à–∏–±–∫–∏)

### 7. Debug –ª–æ–≥–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–∞–∫ info
- ‚ùå –ú–Ω–æ–≥–∏–µ `logger.debug` —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–º debug
- **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∏–µ debug –ª–æ–≥–∏ –Ω—É–∂–Ω—ã, –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤–∞–∂–Ω—ã–µ –≤ info (—Ä–µ–¥–∫–∏–µ)

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ - —É–±—Ä–∞—Ç—å —Å–µ–π—á–∞—Å)
1. **Pipedrive/wFirma/SendPulse API –ª–æ–≥–∏** - –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ debug –∏–ª–∏ —É—Å–ª–æ–≤–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
2. **Webhook –¥–µ—Ç–∞–ª—å–Ω—ã–µ —à–∞–≥–∏** - –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ debug
3. **Stripe processor –¥–µ—Ç–∞–ª—å–Ω—ã–µ —à–∞–≥–∏** - –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∏—Ç–æ–≥–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ)
4. **Invoice processing —à–∞–≥–∏** - –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∏—Ç–æ–≥–∏
5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ logger.debug** - –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
6. **–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è** `LOG_LEVEL=info|debug|warn|error` –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
7. **–£—Å–ª–æ–≤–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –ª–æ–≥–æ–≤ (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö)

## –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –≤ **3-5 —Ä–∞–∑**
- –ë–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–µ –ª–æ–≥–∏ (—Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω–æ–µ)
- –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü—Ä–æ—â–µ –Ω–∞—Ö–æ–¥–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã