# Quickstart: Проверка безопасного логирования

## 1. Подготовка окружения
- Убедитесь, что `.env` содержит `DEV_VERBOSE_LOGS=false` для production и `true` (по необходимости) для локальной отладки.
- Установите зависимости: `npm install`.
- Запустите проект: `npm run dev`.

## 2. Проверка маскировки в браузере (User Story 1)
1. Откройте интерфейс `/frontend/index.html` (или соответствующий URL).
2. Запустите ручной polling и наблюдайте консоль браузера (`DevTools → Console`).
3. Убедитесь, что:
   - Email, телефоны, токены выводятся как `***masked***`.
   - Номера проформ отображаются как `CO-PROF ***/2025`.
   - Суммы заменены диапазоном `~[min-max]`.
4. Если обнаружены чистые значения, зафиксируйте сообщение и повторите шаг с обновлённым санитайзером.

## 3. Режим разработчика (User Story 2)
1. Включите `DEV_VERBOSE_LOGS=true` и перезапустите приложение.
2. Повторите шаги проверки.
3. Убедитесь, что статус-коды и тайминги отображаются, но PII остаётся замаскированной.
4. Верните флаг в `false` перед коммитом.

## 4. Отчёт об инцидентах (User Story 3)
1. После тестового прогона выполните CLI:  
   `node src/scripts/export-log-incidents.js --format json --output reports/incidents.json`
2. Проверьте файл: каждая запись содержит тип, время, идентификатор сообщения.
3. При необходимости экспортируйте CSV:  
   `node src/scripts/export-log-incidents.js --format csv --output reports/incidents.csv`

## 5. Документация и отчёты
- Обновите `docs/business-requirements.md` результатами smoke-тестов.
- Приложите отчёт об инцидентах к проверке безопасности (если есть случаи маскировки).
